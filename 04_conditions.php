<?php
/**
 * 04_conditions.php - 条件分岐
 *
 * if文、else文、switch文を使った条件分岐を学びます。
 */

// ============================================
// if文の基本
// ============================================
// 条件がtrueの場合に処理を実行します

$age = 20;

echo "--- if文の基本 ---\n";

if ($age >= 18) {
    echo "成人です\n";
    // 出力: 成人です
}

// ============================================
// if-else文
// ============================================
// 条件がfalseの場合の処理も指定できます

$score = 65;

echo "\n--- if-else文 ---\n";

if ($score >= 60) {
    echo "合格です！\n";
    // 出力: 合格です！
} else {
    echo "不合格です...\n";
}

// ============================================
// if-elseif-else文
// ============================================
// 複数の条件を順番にチェックできます

$grade = 85;

echo "\n--- if-elseif-else文 ---\n";

if ($grade >= 90) {
    echo "評価: A（優秀）\n";
} elseif ($grade >= 80) {
    echo "評価: B（良い）\n";
    // 出力: 評価: B（良い）
} elseif ($grade >= 70) {
    echo "評価: C（普通）\n";
} elseif ($grade >= 60) {
    echo "評価: D（可）\n";
} else {
    echo "評価: F（不可）\n";
}

// ============================================
// 比較演算子
// ============================================
echo "\n--- 比較演算子 ---\n";

$a = 10;
$b = 20;

echo "a = $a, b = $b\n";
// 出力: a = 10, b = 20

echo "a == b: ", ($a == $b ? "true" : "false"), "\n";
// 出力: a == b: false

echo "a != b: ", ($a != $b ? "true" : "false"), "\n";
// 出力: a != b: true

echo "a < b: ", ($a < $b ? "true" : "false"), "\n";
// 出力: a < b: true

echo "a > b: ", ($a > $b ? "true" : "false"), "\n";
// 出力: a > b: false

echo "a <= b: ", ($a <= $b ? "true" : "false"), "\n";
// 出力: a <= b: true

echo "a >= b: ", ($a >= $b ? "true" : "false"), "\n";
// 出力: a >= b: false

// === と == の違い（型も比較するかどうか）
$num = 10;
$str = "10";

echo "\n--- === と == の違い ---\n";
echo "10 == '10': ", ($num == $str ? "true" : "false"), "\n";
// 出力: 10 == '10': true（値のみ比較）

echo "10 === '10': ", ($num === $str ? "true" : "false"), "\n";
// 出力: 10 === '10': false（型も比較）

// ============================================
// 論理演算子
// ============================================
echo "\n--- 論理演算子 ---\n";

$is_member = true;
$has_coupon = false;

// && (AND): 両方trueならtrue
if ($is_member && $has_coupon) {
    echo "会員かつクーポン所持: 20%割引\n";
}
// 出力: （何も表示されない - 条件を満たさない）

// || (OR): どちらかがtrueならtrue
if ($is_member || $has_coupon) {
    echo "会員またはクーポン所持: 10%割引\n";
    // 出力: 会員またはクーポン所持: 10%割引
}

// ! (NOT): trueとfalseを反転
if (!$has_coupon) {
    echo "クーポンを持っていません\n";
    // 出力: クーポンを持っていません
}

// ============================================
// switch文
// ============================================
// 1つの変数を複数の値と比較する場合に便利です

$day = "水曜日";

echo "\n--- switch文 ---\n";

switch ($day) {
    case "月曜日":
        echo "週の始まりです\n";
        break;
    case "火曜日":
    case "水曜日":
    case "木曜日":
        echo "週の中間です\n";
        // 出力: 週の中間です
        break;
    case "金曜日":
        echo "もうすぐ週末です\n";
        break;
    case "土曜日":
    case "日曜日":
        echo "週末です！\n";
        break;
    default:
        echo "不明な曜日です\n";
        break;
}

// ============================================
// 三項演算子
// ============================================
// 短い条件分岐を1行で書けます
// 構文: 条件 ? trueの場合 : falseの場合

$temperature = 30;

echo "\n--- 三項演算子 ---\n";
$weather = ($temperature >= 25) ? "暑い" : "涼しい";
echo "今日は{$weather}です（気温: {$temperature}度）\n";
// 出力: 今日は暑いです（気温: 30度）
