<?php
/**
 * 03_arrays.php - 配列の基本
 *
 * PHPの配列（インデックス配列）の作成と操作を学びます。
 */

// ============================================
// 配列の作成
// ============================================
// 配列は複数の値を1つの変数に格納できます

// 方法1: array()を使う
$fruits = array("りんご", "バナナ", "オレンジ");

// 方法2: 短縮構文 [] を使う（推奨）
$colors = ["赤", "青", "緑", "黄"];

echo "--- 配列の作成 ---\n";
print_r($fruits); // print_rは配列の内容を見やすく表示します
// 出力:
// Array
// (
//     [0] => りんご
//     [1] => バナナ
//     [2] => オレンジ
// )

// ============================================
// 配列の要素にアクセス
// ============================================
// インデックス（添字）は0から始まります

echo "\n--- 要素へのアクセス ---\n";
echo "1番目の果物: ", $fruits[0], "\n";
// 出力: 1番目の果物: りんご

echo "2番目の果物: ", $fruits[1], "\n";
// 出力: 2番目の果物: バナナ

echo "3番目の果物: ", $fruits[2], "\n";
// 出力: 3番目の果物: オレンジ

// ============================================
// 配列の要素を変更
// ============================================
$fruits[1] = "ぶどう"; // バナナをぶどうに変更

echo "\n--- 変更後 ---\n";
echo "2番目の果物: ", $fruits[1], "\n";
// 出力: 2番目の果物: ぶどう

// ============================================
// 配列に要素を追加
// ============================================
// [] を使うと末尾に追加されます
$fruits[] = "メロン";
$fruits[] = "いちご";

echo "\n--- 追加後 ---\n";
print_r($fruits);
// 出力:
// Array
// (
//     [0] => りんご
//     [1] => ぶどう
//     [2] => オレンジ
//     [3] => メロン
//     [4] => いちご
// )

// ============================================
// 配列の長さを取得
// ============================================
$count = count($fruits);
echo "\n果物の数: ", $count, "個\n";
// 出力: 果物の数: 5個

// ============================================
// 配列の便利な関数
// ============================================
$numbers = [5, 2, 8, 1, 9, 3];

echo "\n--- 配列の便利な関数 ---\n";

// sort: 昇順にソート
sort($numbers);
echo "昇順ソート: ";
print_r($numbers);
// 出力: 昇順ソート: Array ( [0] => 1 [1] => 2 [2] => 3 [3] => 5 [4] => 8 [5] => 9 )

// rsort: 降順にソート
rsort($numbers);
echo "降順ソート: ";
print_r($numbers);
// 出力: 降順ソート: Array ( [0] => 9 [1] => 8 [2] => 5 [3] => 3 [4] => 2 [5] => 1 )

// array_push: 末尾に追加
$numbers = [1, 2, 3];
array_push($numbers, 4, 5);
echo "pushで追加: ";
print_r($numbers);
// 出力: pushで追加: Array ( [0] => 1 [1] => 2 [2] => 3 [3] => 4 [4] => 5 )

// array_pop: 末尾から取り出す
$last = array_pop($numbers);
echo "popで取り出し: ", $last, "\n";
// 出力: popで取り出し: 5

echo "残りの配列: ";
print_r($numbers);
// 出力: 残りの配列: Array ( [0] => 1 [1] => 2 [2] => 3 [3] => 4 )

// in_array: 要素が含まれているか確認
$fruits = ["りんご", "バナナ", "オレンジ"];
if (in_array("バナナ", $fruits)) {
    echo "\nバナナは配列に含まれています\n";
    // 出力: バナナは配列に含まれています
}

// array_search: 要素のインデックスを検索
$index = array_search("オレンジ", $fruits);
echo "オレンジのインデックス: ", $index, "\n";
// 出力: オレンジのインデックス: 2
